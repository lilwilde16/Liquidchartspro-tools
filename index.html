<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>LiquidChartsPro Tools</title>

  <!-- LiquidCharts widget framework -->
  <script src="https://pro.liquidcharts.com/scripts/widget-js"></script>
  <link rel="stylesheet" href="https://pro.liquidcharts.com/scripts/widget-css">
  <link rel="stylesheet" href="./css/app.css">
</head>

<body class="Widget">
  <div id="app">

    <div class="tabs">
      <button class="tabBtn active" data-tab="home">Home</button>
      <button class="tabBtn" data-tab="settings">Settings</button>
      <button class="tabBtn" data-tab="strength">Strength</button>
      <button class="tabBtn" data-tab="backtest">Backtest</button>
      <button class="tabBtn" data-tab="tools">Tools</button>
    </div>

    <!-- HOME -->
    <section class="page" id="page-home">
      <div class="card">
        <h1 class="title">LiquidChartsPro Tools</h1>
        <div class="row">
          <div class="field">
            <label>Status</label>
            <div class="pill" id="statusPill">Loading frameworkâ€¦</div>
          </div>
          <div class="field">
            <label>Instrument (chart)</label>
            <input id="ctxInstrument" value="Unknown" readonly />
          </div>
          <div class="field">
            <label>Timeframe (chart)</label>
            <input id="ctxTf" value="Unknown" readonly />
          </div>
        </div>
        <div class="btnRow">
          <button id="btnPing" class="primary" disabled>Ping Framework</button>
          <button id="btnReqPrices" disabled>RequestPrices (test)</button>
        </div>
      </div>

      <div class="card">
        <h2 class="title">Log</h2>
        <div id="log" class="log"></div>
      </div>
    </section>

    <!-- SETTINGS -->
    <section class="page hidden" id="page-settings">
      <div class="card">
        <h2 class="title">Settings</h2>
        <label>Pairs universe (instrumentId, one per line)</label>
        <textarea id="pairs" class="mono" rows="10">EUR/USD
GBP/USD
USD/JPY
AUD/USD
NZD/USD
USD/CAD
EUR/GBP
EUR/JPY
GBP/JPY
AUD/JPY
NZD/JPY</textarea>
      </div>
    </section>

    <!-- STRENGTH -->
    <section class="page hidden" id="page-strength">
      <div class="card">
        <h2 class="title">Currency Strength</h2>
        <div class="row">
          <div class="field">
            <label>Timeframe</label>
            <select id="strengthTf">
              <option value="300">M5</option>
              <option value="900" selected>M15</option>
              <option value="1800">M30</option>
            </select>
          </div>
          <div class="field">
            <label>Candles</label>
            <input id="strengthCount" type="number" value="500" min="100" max="5000" />
          </div>
        </div>
        <div class="btnRow">
          <button id="btnStrengthRun" class="primary" disabled>Refresh Now</button>
        </div>
        <div class="subtitle" id="strengthStatus">No results yet.</div>
      </div>

      <div class="card">
        <h2 class="title">Strength Table</h2>
        <div id="strengthTable"></div>
      </div>
    </section>

    <!-- BACKTEST -->
    <section class="page hidden" id="page-backtest">
      <div class="card">
        <h2 class="title">Backtest</h2>
        <div class="row">
          <div class="field">
            <label>Timeframe</label>
            <select id="btTf">
              <option value="300">M5</option>
              <option value="900" selected>M15</option>
              <option value="1800">M30</option>
              <option value="3600">H1</option>
            </select>
          </div>
          <div class="field">
            <label>Candles per instrument</label>
            <input id="btCount" type="number" value="2000" min="200" max="30000" />
          </div>
        </div>

        <label>Strategy (JSON)</label>
        <textarea id="btStrategy" class="mono" rows="8">{
  "type": "ma_cross",
  "settings": { "fastMA": 10, "slowMA": 30, "atrLen": 14, "slAtrMult": 1.2, "rr": 2.0 }
}</textarea>

        <div class="btnRow">
          <button id="btnRunBt" class="primary" disabled>Run Backtest</button>
          <button id="btnStopBt" disabled>Stop</button>
          <button id="btnClearBt">Clear</button>
        </div>
      </div>

      <div class="card">
        <h2 class="title">Summary</h2>
        <div id="btSummary" class="subtitle">No results yet.</div>
      </div>

      <div class="card">
        <h2 class="title">Trades</h2>
        <div id="btTrades"></div>
      </div>
    </section>

    <!-- TOOLS -->
    <section class="page hidden" id="page-tools">
      <div class="card">
        <h2 class="title">Tools</h2>
        <div class="btnRow">
          <button id="btnHealth" disabled>Health Check</button>
          <button id="btnClearLog" disabled>Clear Log</button>
        </div>
      </div>
    </section>

  </div>

  <!-- JS modules -->
  <script src="./js/ui-tabs.js"></script>
  <script src="./js/util-format.js"></script>
  <script src="./js/util-indicators.js"></script>
  <script src="./js/lc-framework.js"></script>

  <script src="./js/engine-strength.js"></script>
  <script src="./js/engine-backtest.js"></script>
  <script src="./js/engine-autotrader.js"></script>

  <script src="./js/app.js"></script>
</body>
</html>